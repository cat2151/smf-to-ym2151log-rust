<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIDI to YM2151 WASM Demo</title>
</head>
<body>
    <div id="app">
        <h1>MIDI to YM2151 WASM Demo</h1>
        <p>Convert MIDI files to YM2151 register logs using WebAssembly.</p>

        <div id="waveform-section" style="display: none;">
            <h2>Waveform Visualization</h2>
            <button id="play-audio-btn">▶ Play Audio</button>
            <div id="waveform-container">
                <canvas id="waveform-canvas" width="800" height="200"></canvas>
            </div>
            <div id="play-overlay" class="play-overlay" style="display: none;">
                <button id="floating-play-btn" aria-label="Play audio">▶ Play</button>
            </div>
        </div>

        <div>
            <label for="file-input">Select a MIDI file (.mid):</label><br>
            <input type="file" id="file-input" accept=".mid,.midi">
        </div>

        <div id="output">
            <p>Select a MIDI file to see the YM2151 register log JSON output...</p>
        </div>

        <footer class="github-link">
            <a href="https://github.com/cat2151/smf-to-ym2151log-rust" target="_blank" rel="noopener noreferrer">GitHub</a>
            <span style="margin: 0 8px;">|</span>
            <a href="./demo-mml/">MML Demo</a>
            <span style="margin: 0 8px;">|</span>
            <a href="./demo-library/">Library Demo</a>
        </footer>
    </div>

    <div id="rendering-overlay" class="rendering-overlay" style="display: none;">
        <div class="rendering-overlay__content" role="status" aria-live="polite" id="rendering-overlay-text">
            Rendering... UI is temporarily disabled.
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
