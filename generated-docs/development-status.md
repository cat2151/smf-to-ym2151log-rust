Last updated: 2025-12-03

# Development Status

## 現在のIssues
-   [Issue #33](../issue-notes/33.md) は、`ym2151-tone-editor`が出力するGM000 variations format JSONを、既存の`tones/`ディレクトリのデータよりも優先して読み込む新仕様の追加を検討しています。
-   [Issue #22](../issue-notes/22.md) は、`ym2151-tone-editor`を利用して`tones/000.json`から`127.json`までのトーンデータを実際に作成し、プロジェクト内に配置する手作業のタスクです。
-   現在の開発状況は、主にYM2151のトーンデータ管理と、そのデータ読み込みに関する新しい要件の定義および実装準備に焦点が当てられています。

## 次の一手候補
1.  **[Issue #33](../issue-notes/33.md): YM2151トーンデータ読み込みロジックの分析と仕様詳細化**
    -   最初の小さな一歩: 現在のトーンデータ読み込みロジックがどのファイルでどのように実装されているかを特定し、その処理フローを把握する。
    -   Agent実行プロンプ:
        ```
        対象ファイル: `src/ym2151/tone.rs`, `src/ym2151/init.rs`, `src/ym2151/mod.rs`および関連するRustファイル

        実行内容: YM2151のトーンデータを読み込み、アプリケーション内で利用する既存のロジックについて、以下の観点から分析してください：
        1) トーンデータのファイルパスがどのように解決されるか。
        2) JSONファイルがどのようにパースされ、内部データ構造に変換されるか。
        3) 複数のトーンデータが存在する場合の読み込み順序や優先度。

        確認事項: `Cargo.toml`で定義されている依存関係を確認し、`serde`などのJSONパースライブラリの使用状況に注意してください。

        期待する出力: 既存のトーンデータ読み込みフローを図式化し、主要な関数とファイルパスを記載したMarkdown形式の分析レポート。特に、パス解決とJSONパースの具体的なコード箇所を特定してください。
        ```

2.  **[Issue #22](../issue-notes/22.md): 既存`tones/000.json`のJSONスキーマ分析**
    -   最初の小さな一歩: 現在の`tones/000.json`の構造を詳細に分析し、主要なフィールドのデータ型とその役割を理解する。
    -   Agent実行プロンプト:
        ```
        対象ファイル: `tones/000.json`

        実行内容: 対象ファイルを分析し、そのJSONスキーマの概要をMarkdown形式で記述してください。特に以下の点を明確にしてください：
        1) 最上位の構造（例: オブジェクト、配列）。
        2) `events`配列が存在する場合、その各要素のオブジェクト構造（例: `time`, `addr`, `data`の各フィールドのデータ型と期待される値の範囲）。
        3) 他に重要なトップレベルキーがあれば、そのデータ型と役割。

        確認事項: JSONの各フィールドがYM2151のレジスタ設定やイベントとどのように対応しているかを可能な限り推測し、記述してください。

        期待する出力: `tones/000.json`のJSONスキーマ定義の概要と、各フィールドの簡単な説明を含むMarkdown形式のドキュメント。
        ```

3.  **`src/ym2151/event_processor.rs`の公開インターフェースとテストカバレッジの調査**
    -   最初の小さな一歩: 最近リファクタリングで抽出された`event_processor`モジュールの公開されている関数や構造体をリストアップし、現在のテスト状況を確認する。
    -   Agent実行プロンプト:
        ```
        対象ファイル: `src/ym2151/event_processor.rs`, `src/ym2151/converter_tests.rs`, `tests/integration_tests.rs`

        実行内容: `src/ym2151/event_processor.rs`が提供する公開インターフェース（関数、構造体、メソッドなど）をすべて洗い出し、それぞれの簡単な機能説明を記述してください。加えて、現在のプロジェクト内のテストファイル（特に`src/ym2151/converter_tests.rs`や`tests/integration_tests.rs`）において、これらのインターフェースがどのようにテストされているか（またはされていないか）を調査し、そのテストファイルと関連するテストコードの概要を記述してください。

        確認事項: `event_processor`が他のモジュールに依存している場合、その依存関係も考慮に入れてください。

        期待する出力: `event_processor.rs`の公開インターフェースリストとその説明、および関連するテストコードの場所と内容の概要をまとめたMarkdown形式のレポート。カバレッジのギャップがあれば指摘してください。

---
Generated at: 2025-12-03 07:07:29 JST
